<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Dictionary Search</title>
    <!-- Pico.css-->
    <link rel="stylesheet" href="/css/pico.min.css">
    <!-- Your custom styles if needed -->
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<main class="container">
    <h1>Dictionary Search</h1>

    <!-- Search Form -->
    <form action="/search" method="post" class="form">
        <fieldset>
            <legend>Search for Words</legend>
            <input type="text" name="prefix" placeholder="Enter a prefix" required>
            <button type="submit">Search</button>
        </fieldset>
    </form>

    <!-- Search Results -->
    <div th:if="${prefix}" class="results-container">
        <h2>Search Results for "<span th:text="${prefix}"></span>"</h2>

        <!-- Display Exact Matches -->
        <div th:if="${#lists.isEmpty(exactMatches)}" class="no-results">
            <p>No exact matches found for prefix "<span th:text="${prefix}"></span>".</p>
        </div>
        <div th:if="${!#lists.isEmpty(exactMatches)}" class="matches">
            <h3>Prefix Matches:</h3>
            <ul>
                <li th:each="word : ${exactMatches}" class="result-item">
                    <strong th:text="${word.word}"></strong>
                    (<span th:text="${word.partOfSpeech}"></span>):
                    <p th:text="${word.definition}"></p>
                    <em>Example: <span th:text="${word.sentence}"></span></em>
                    <small>Frequency: <span th:text="${word.frequency}"></span></small>
                </li>
            </ul>
        </div>

        <!-- Display Suggestions -->
        <div th:if="${#lists.isEmpty(suggestions)}" class="no-suggestions">
            <p>No similar words found.</p>
        </div>
        <div th:if="${!#lists.isEmpty(suggestions)}" class="suggestions">
            <h3>Suggested Words:</h3>
            <ul>
                <li th:each="word : ${suggestions}" class="result-item">
                    <strong th:text="${word.word}"></strong>
                    (<span th:text="${word.partOfSpeech}"></span>):
                    <p th:text="${word.definition}"></p>
                    <em>Example: <span th:text="${word.sentence}"></span></em>
                    <small>Frequency: <span th:text="${word.frequency}"></span></small>
                </li>
            </ul>
        </div>
    </div>

    <!-- Return to Search Form -->
    <div th:if="${prefix}" class="search-again">
        <a href="/">Search Again</a>
    </div>
</main>
</body>
</html>
